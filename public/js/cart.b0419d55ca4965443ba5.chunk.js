"use strict";(self.webpackChunke_commerce_website=self.webpackChunke_commerce_website||[]).push([[949],{8729:(t,e,r)=>{r.r(e),r.d(e,{default:()=>l});var n=r(4705),a=r(7075),c=(r(2008),r(2675),r(1629),r(2062),r(2712),r(739),r(2010),r(9868),r(7945),r(4185),r(3851),r(1278),r(9432),r(6099),r(3500),r(8459),r(8940),r(6540)),i=r(5580),s=r(4848);function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){(0,n.A)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}const l=function(){var t=(0,c.useState)([]),e=(0,a.A)(t,2),r=e[0],n=e[1],o=(0,c.useState)(0),l=(0,a.A)(o,2),d=l[0],m=l[1];(0,c.useEffect)((function(){var t=function(){var t=JSON.parse(localStorage.getItem("cart"))||[];n(t);var e=t.reduce((function(t,e){return t+e.price*e.quantity}),0);m(e)};t();var e=function(){t()};return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}}),[]);var f=function(t,e){if(!(e<1)){var a=r.map((function(r){return r.id===t?u(u({},r),{},{quantity:e}):r}));n(a),localStorage.setItem("cart",JSON.stringify(a));var c=a.reduce((function(t,e){return t+e.price*e.quantity}),0);m(c)}},p=function(t){return"$".concat(parseFloat(t).toFixed(2))};return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("h1",{className:"page-title",children:"Your Cart"}),0===r.length?(0,s.jsxs)("div",{className:"empty-cart",children:[(0,s.jsx)("p",{children:"Your cart is empty."}),(0,s.jsx)(i.N_,{to:"/products",className:"btn btn-primary",children:"Browse Products"})]}):(0,s.jsxs)("div",{className:"cart-container",children:[(0,s.jsx)("div",{className:"cart-items",children:r.map((function(t){return(0,s.jsxs)("div",{className:"cart-item",children:[(0,s.jsx)("div",{className:"cart-item-image",children:(0,s.jsx)("img",{src:t.image,alt:t.name})}),(0,s.jsxs)("div",{className:"cart-item-details",children:[(0,s.jsx)("h3",{children:t.name}),(0,s.jsx)("p",{className:"item-price",children:p(t.price)})]}),(0,s.jsxs)("div",{className:"cart-item-quantity",children:[(0,s.jsx)("button",{className:"quantity-btn",onClick:function(){return f(t.id,t.quantity-1)},children:"-"}),(0,s.jsx)("input",{type:"number",min:"1",value:t.quantity,onChange:function(e){return f(t.id,parseInt(e.target.value))}}),(0,s.jsx)("button",{className:"quantity-btn",onClick:function(){return f(t.id,t.quantity+1)},children:"+"})]}),(0,s.jsx)("div",{className:"cart-item-subtotal",children:p(t.price*t.quantity)}),(0,s.jsx)("button",{className:"remove-item-btn",onClick:function(){return function(t){var e=r.filter((function(e){return e.id!==t}));n(e),localStorage.setItem("cart",JSON.stringify(e));var a=e.reduce((function(t,e){return t+e.price*e.quantity}),0);m(a),window.dispatchEvent(new Event("storage"))}(t.id)},children:(0,s.jsx)("i",{className:"fas fa-trash"})})]},t.id)}))}),(0,s.jsxs)("div",{className:"cart-summary",children:[(0,s.jsxs)("div",{className:"cart-total",children:[(0,s.jsx)("span",{children:"Total:"}),(0,s.jsx)("span",{children:p(d)})]}),(0,s.jsxs)("div",{className:"cart-actions",children:[(0,s.jsx)("button",{className:"btn btn-secondary",onClick:function(){n([]),m(0),localStorage.setItem("cart",JSON.stringify([])),window.dispatchEvent(new Event("storage"))},children:"Clear Cart"}),(0,s.jsx)(i.N_,{to:"/checkout",className:"btn btn-primary",children:"Proceed to Checkout"})]})]})]})]})}}}]);