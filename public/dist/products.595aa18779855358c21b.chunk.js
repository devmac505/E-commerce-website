"use strict";(self.webpackChunke_commerce_website=self.webpackChunke_commerce_website||[]).push([[983],{1823:(e,r,a)=>{a.r(r),a.d(r,{default:()=>m});var n=a(467),s=a(7075),t=a(4756),i=a.n(t),c=(a(2008),a(3418),a(4346),a(3792),a(2062),a(2010),a(6099),a(3362),a(7764),a(2953),a(8408),a(6540)),o=a(5580),l=a(8398),d=a(7010),u=a(4848);const m=function(){var e=(0,o.ok)(),r=(0,s.A)(e,2),a=r[0],t=r[1],m=(0,c.useState)([]),p=(0,s.A)(m,2),g=p[0],h=p[1],v=(0,c.useState)([]),x=(0,s.A)(v,2),f=x[0],j=x[1],y=(0,c.useState)(!0),A=(0,s.A)(y,2),N=A[0],_=A[1],w=(0,c.useState)(null),b=(0,s.A)(w,2),F=b[0],C=b[1],k=a.get("category")||"",B=a.get("gender")||"",L=a.get("sort")||"name_asc";(0,c.useEffect)((function(){var e=function(){var e=(0,n.A)(i().mark((function e(){var r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/categories");case 3:return r=e.sent,e.next=6,r.json();case 6:(a=e.sent).success&&a.data&&j(a.data),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),j([{_id:"athletic",name:"Athletic"},{_id:"casual",name:"Casual"},{_id:"formal",name:"Formal"},{_id:"boots",name:"Boots"}]);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,c.useEffect)((function(){var e=function(){var e=(0,n.A)(i().mark((function e(){var r,a,n,t,c,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),C(null),e.prev=2,r={},k&&(r.category=k),L&&(a=L.split("_"),n=(0,s.A)(a,2),t=n[0],c=n[1],r.sortBy=t,r.sortDirection=c),e.next=10,d.YV.getProducts(r);case 10:(o=e.sent)&&o.success&&Array.isArray(o.data)?(l=o.data.map((function(e){var r,a;return{id:e._id,name:e.name,price:e.basePrice,image:e.images&&e.images.length>0?e.images[0]:"/images/product-placeholder.svg",category:(null===(r=e.category)||void 0===r?void 0:r.name)||"Unknown",gender:(null===(a=e.specifications)||void 0===a?void 0:a.gender)||"unisex"}})),B&&(l=l.filter((function(e){return e.gender.toLowerCase()===B.toLowerCase()}))),h(l),l.length):h(S()),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),C("Failed to load products. Please try again later."),h(S());case 20:return e.prev=20,_(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,15,20,23]])})));return function(){return e.apply(this,arguments)}}();e()}),[k,B,L]);var P=function(e){var r=e.target,n=r.name,s=r.value,i=new URLSearchParams(a);s?i.set(n,s):i.delete(n),t(i)},S=function(){return[{id:"sample1",name:"Athletic Running Shoes",price:79.99,image:"/images/products/running-shoes.jpg",category:"Athletic",gender:"unisex"},{id:"sample2",name:"Casual Leather Loafers",price:59.99,image:"/images/products/loafers.jpg",category:"Casual",gender:"men"},{id:"sample3",name:"Formal Business Oxfords",price:89.99,image:"/images/products/oxfords.jpg",category:"Formal",gender:"men"},{id:"sample4",name:"Women's Fashion Boots",price:99.99,image:"/images/products/boots.jpg",category:"Boots",gender:"women"}]};return(0,u.jsx)("section",{className:"products-section",children:(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("h2",{className:"section-title",children:"Our Products"}),(0,u.jsxs)("div",{className:"products-container",children:[(0,u.jsxs)("div",{className:"filters-sidebar",children:[(0,u.jsx)("h3",{children:"Filters"}),(0,u.jsxs)("div",{className:"filter-group",children:[(0,u.jsx)("label",{htmlFor:"categoryFilter",children:"Category"}),(0,u.jsxs)("select",{id:"categoryFilter",name:"category",value:k,onChange:P,children:[(0,u.jsx)("option",{value:"",children:"All Categories"}),f.map((function(e){return(0,u.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),(0,u.jsxs)("div",{className:"filter-group",children:[(0,u.jsx)("label",{htmlFor:"genderFilter",children:"Gender"}),(0,u.jsxs)("select",{id:"genderFilter",name:"gender",value:B,onChange:P,children:[(0,u.jsx)("option",{value:"",children:"All Genders"}),(0,u.jsx)("option",{value:"men",children:"Men"}),(0,u.jsx)("option",{value:"women",children:"Women"}),(0,u.jsx)("option",{value:"unisex",children:"Unisex"})]})]}),(0,u.jsxs)("div",{className:"filter-group",children:[(0,u.jsx)("label",{htmlFor:"sortBy",children:"Sort By"}),(0,u.jsxs)("select",{id:"sortBy",name:"sort",value:L,onChange:P,children:[(0,u.jsx)("option",{value:"name_asc",children:"Name (A-Z)"}),(0,u.jsx)("option",{value:"name_desc",children:"Name (Z-A)"}),(0,u.jsx)("option",{value:"price_asc",children:"Price (Low to High)"}),(0,u.jsx)("option",{value:"price_desc",children:"Price (High to Low)"})]})]})]}),(0,u.jsxs)("div",{className:"products-main",children:[F&&(0,u.jsx)("div",{className:"alert alert-danger",children:F}),(0,u.jsx)("div",{className:"product-grid",id:"productsGrid",children:N?Array.from({length:8}).map((function(e,r){return(0,u.jsx)("div",{className:"product-card skeleton"},r)})):g.length>0?g.map((function(e,r){return(0,u.jsx)("div",{className:"stagger-item",children:(0,u.jsx)(l.A,{product:e})},e.id)})):(0,u.jsx)("div",{className:"no-products-message",children:(0,u.jsx)("p",{children:"No products found matching your criteria."})})})]})]})]})})}}}]);