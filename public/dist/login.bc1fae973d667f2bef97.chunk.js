"use strict";(self.webpackChunke_commerce_website=self.webpackChunke_commerce_website||[]).push([[966],{8760:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var r=s(467),t=s(7075),n=s(4756),i=s.n(n),o=(s(2010),s(6540)),l=s(5580),c=s(7010),d=s(4848);const u=function(){var e=(0,o.useState)(""),a=(0,t.A)(e,2),s=a[0],n=a[1],u=(0,o.useState)(""),h=(0,t.A)(u,2),m=h[0],p=h[1],g=(0,o.useState)(""),x=(0,t.A)(g,2),f=x[0],v=x[1],j=(0,o.useState)(!1),w=(0,t.A)(j,2),b=w[0],N=w[1],k=(0,o.useState)(!1),y=(0,t.A)(k,2),S=y[0],A=y[1],L=(0,l.Zp)(),_=function(){var e=(0,r.A)(i().mark((function e(a){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),v(""),s&&m){e.next=5;break}return v("Please enter both email and password"),e.abrupt("return");case 5:return N(!0),e.prev=6,e.next=9,c.pq.login({email:s,password:m});case 9:(r=e.sent).success&&r.token?(localStorage.setItem("token",r.token),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userName",r.data.name||"User"),localStorage.setItem("userRole",r.data.role||"user"),window.dispatchEvent(new Event("storage")),L("/")):v(r.message||"Login failed. Please try again."),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),v("Login failed. Please check your credentials and try again.");case 17:return e.prev=17,N(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[6,13,17,20]])})));return function(a){return e.apply(this,arguments)}}();return(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"auth-container",children:(0,d.jsxs)("div",{className:"auth-form-container",children:[(0,d.jsx)("h2",{children:"Login to Your Account"}),f&&(0,d.jsx)("div",{className:"alert alert-danger",children:f}),(0,d.jsxs)("form",{onSubmit:_,children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,d.jsx)("input",{type:"email",id:"email",value:s,onChange:function(e){return n(e.target.value)},placeholder:"Enter your email",required:!0})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"password",children:"Password"}),(0,d.jsxs)("div",{className:"password-input-container",children:[(0,d.jsx)("input",{type:S?"text":"password",id:"password",value:m,onChange:function(e){return p(e.target.value)},placeholder:"Enter your password",required:!0}),(0,d.jsx)("span",{className:"password-toggle",onClick:function(){A(!S)},children:(0,d.jsx)("i",{className:"fas ".concat(S?"fa-eye-slash":"fa-eye")})})]})]}),(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:b,children:b?"Logging in...":"Login"})})]}),(0,d.jsxs)("div",{className:"auth-links",children:[(0,d.jsxs)("p",{children:["Don't have an account? ",(0,d.jsx)(l.N_,{to:"/register",children:"Register"})]}),(0,d.jsx)("p",{children:(0,d.jsx)(l.N_,{to:"/forgot-password",children:"Forgot Password?"})})]})]})})})}}}]);