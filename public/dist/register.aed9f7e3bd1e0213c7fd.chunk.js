"use strict";(self.webpackChunke_commerce_website=self.webpackChunke_commerce_website||[]).push([[224],{2734:(e,a,r)=>{r.r(a),r.d(a,{default:()=>h});var s=r(467),n=r(4705),t=r(7075),o=r(4756),l=r.n(o),i=(r(8706),r(2675),r(2008),r(1629),r(2010),r(7945),r(4185),r(3851),r(1278),r(9432),r(6099),r(3500),r(7495),r(5440),r(6540)),c=r(5580),m=r(7010),d=r(4848);function p(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,s)}return r}function u(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?p(Object(r),!0).forEach((function(a){(0,n.A)(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}const h=function(){var e=(0,i.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",companyName:"",phone:""}),a=(0,t.A)(e,2),r=a[0],o=a[1],p=(0,i.useState)(""),h=(0,t.A)(p,2),f=h[0],j=h[1],N=(0,i.useState)(!1),x=(0,t.A)(N,2),g=x[0],v=x[1],w=(0,i.useState)(!1),y=(0,t.A)(w,2),b=y[0],P=y[1],C=(0,i.useState)(!1),O=(0,t.A)(C,2),k=O[0],A=O[1],S=(0,c.Zp)(),E=function(e){var a=e.target,r=a.name,s=a.value;o((function(e){return u(u({},e),{},(0,n.A)({},r,s))}))},F=function(){if(!(r.firstName&&r.lastName&&r.email&&r.password))return j("Please fill in all required fields"),!1;if(r.password!==r.confirmPassword)return j("Passwords do not match"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email))return j("Please enter a valid email address"),!1;if(r.phone&&11!==r.phone.replace(/\D/g,"").length)return j("number is not valid"),!1;return!0},q=function(){var e=(0,s.A)(l().mark((function e(a){var s,n,t,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),j(""),F()){e.next=4;break}return e.abrupt("return");case 4:return v(!0),e.prev=5,s={name:"".concat(r.firstName," ").concat(r.lastName),email:r.email,password:r.password,companyName:r.companyName,phone:r.phone},e.next=9,m.pq.register(s);case 9:(n=e.sent).success&&n.token?(localStorage.setItem("token",n.token),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userName",(null===(t=n.data)||void 0===t?void 0:t.name)||"".concat(r.firstName," ").concat(r.lastName)),localStorage.setItem("userRole",(null===(o=n.data)||void 0===o?void 0:o.role)||"user"),window.dispatchEvent(new Event("storage")),S("/")):j(n.message||"Registration failed. Please try again."),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),j("Registration failed. Please try again later.");case 17:return e.prev=17,v(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,13,17,20]])})));return function(a){return e.apply(this,arguments)}}();return(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"auth-container",children:(0,d.jsxs)("div",{className:"auth-form-container",children:[(0,d.jsx)("h2",{children:"Create an Account"}),f&&(0,d.jsx)("div",{className:"alert alert-danger",children:f}),(0,d.jsxs)("form",{onSubmit:q,children:[(0,d.jsxs)("div",{className:"form-row",children:[(0,d.jsxs)("div",{className:"form-group half",children:[(0,d.jsx)("label",{htmlFor:"firstName",children:"First Name *"}),(0,d.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:r.firstName,onChange:E,placeholder:"Enter your first name",required:!0})]}),(0,d.jsxs)("div",{className:"form-group half",children:[(0,d.jsx)("label",{htmlFor:"lastName",children:"Last Name *"}),(0,d.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:r.lastName,onChange:E,placeholder:"Enter your last name",required:!0})]})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,d.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,onChange:E,placeholder:"Enter your email",required:!0})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"password",children:"Password *"}),(0,d.jsxs)("div",{className:"password-input-container",children:[(0,d.jsx)("input",{type:b?"text":"password",id:"password",name:"password",value:r.password,onChange:E,placeholder:"Create a password",required:!0}),(0,d.jsx)("span",{className:"password-toggle",onClick:function(){P(!b)},children:(0,d.jsx)("i",{className:"fas ".concat(b?"fa-eye-slash":"fa-eye")})})]}),(0,d.jsx)("span",{className:"password-hint",children:"Password should be at least 8 characters long"})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password *"}),(0,d.jsxs)("div",{className:"password-input-container",children:[(0,d.jsx)("input",{type:k?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:E,placeholder:"Confirm your password",required:!0}),(0,d.jsx)("span",{className:"password-toggle",onClick:function(){A(!k)},children:(0,d.jsx)("i",{className:"fas ".concat(k?"fa-eye-slash":"fa-eye")})})]})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"companyName",children:"Company Name"}),(0,d.jsx)("input",{type:"text",id:"companyName",name:"companyName",value:r.companyName,onChange:E,placeholder:"Enter your company name (optional)"})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,d.jsx)("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:E,placeholder:"Enter your phone number (optional)"}),(0,d.jsx)("span",{className:"input-hint",children:"Format: 11 digits (e.g., 01234567890)"})]}),(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)("button",{type:"submit",className:"btn btn-primary btn-block",disabled:g,children:g?"Creating Account...":"Create Account"})})]}),(0,d.jsx)("div",{className:"auth-links",children:(0,d.jsxs)("p",{children:["Already have an account? ",(0,d.jsx)(c.N_,{to:"/login",children:"Login"})]})})]})})})}}}]);