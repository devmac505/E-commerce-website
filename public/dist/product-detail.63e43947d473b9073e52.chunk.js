"use strict";(self.webpackChunke_commerce_website=self.webpackChunke_commerce_website||[]).push([[982],{5133:(e,s,i)=>{i.r(s),i.d(s,{default:()=>p});var n=i(467),t=i(7075),a=i(4756),r=i.n(a),c=(i(2675),i(9463),i(8706),i(8980),i(3792),i(8598),i(2062),i(9089),i(1688),i(739),i(3288),i(2010),i(9868),i(9432),i(6099),i(8940),i(3362),i(7764),i(2953),i(6031),i(6540)),l=i(5580),o=i(7010),d=i(8398),u=i(4848);const h=function(e){var s=e.src,i=e.alt,n=(0,c.useState)(!1),a=(0,t.A)(n,2),r=a[0],l=a[1],o=(0,c.useState)({x:0,y:0}),d=(0,t.A)(o,2),h=d[0],m=d[1],p=(0,c.useRef)(null),g=(0,c.useRef)(null);return(0,c.useEffect)((function(){l(!1)}),[s]),(0,u.jsxs)("div",{className:"image-zoom-container ".concat(r?"zoomed":""),ref:p,onMouseMove:function(e){if(p.current&&r){var s=p.current.getBoundingClientRect(),i=s.left,n=s.top,t=s.width,a=s.height,c=(e.clientX-i)/t*100,l=(e.clientY-n)/a*100;m({x:c,y:l})}},onClick:function(){l(!r)},children:[(0,u.jsx)("img",{ref:g,src:s,alt:i,className:"main-image"}),r&&(0,u.jsx)("div",{className:"zoomed-image",style:{backgroundImage:"url(".concat(s,")"),backgroundPosition:"".concat(h.x,"% ").concat(h.y,"%")}}),(0,u.jsxs)("div",{className:"zoom-hint",children:[(0,u.jsx)("i",{className:"fas fa-search-plus"}),(0,u.jsxs)("span",{children:["Click to ",r?"exit zoom":"zoom"]})]})]})};i(1629),i(2712),i(4490),i(3500);const m=function(e){var s,i=e.reviews,n=i.length>0?i.reduce((function(e,s){return e+s.rating}),0)/i.length:0,t=function(e){for(var s=[],i=1;i<=Math.floor(e);i++)s.push((0,u.jsx)("i",{className:"fas fa-star"},"star-".concat(i)));e%1>=.5&&s.push((0,u.jsx)("i",{className:"fas fa-star-half-alt"},"star-half"));for(var n=5-Math.ceil(e),t=1;t<=n;t++)s.push((0,u.jsx)("i",{className:"far fa-star"},"star-empty-".concat(t)));return s},a=(s=[0,0,0,0,0],i.forEach((function(e){var i=Math.floor(e.rating)-1;i>=0&&i<5&&s[i]++})),s.reverse()),r=i.length;return(0,u.jsx)("div",{className:"product-reviews",children:i.length>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"reviews-summary",children:[(0,u.jsxs)("div",{className:"average-rating",children:[(0,u.jsx)("div",{className:"rating-number",children:n.toFixed(1)}),(0,u.jsx)("div",{className:"rating-stars",children:t(n)}),(0,u.jsxs)("div",{className:"total-reviews",children:[r," ",1===r?"review":"reviews"]})]}),(0,u.jsx)("div",{className:"rating-distribution",children:a.map((function(e,s){var i=5-s,n=r>0?e/r*100:0;return(0,u.jsxs)("div",{className:"rating-bar",children:[(0,u.jsxs)("div",{className:"rating-label",children:[i," stars"]}),(0,u.jsx)("div",{className:"rating-progress",children:(0,u.jsx)("div",{className:"rating-progress-fill",style:{width:"".concat(n,"%")}})}),(0,u.jsx)("div",{className:"rating-count",children:e})]},"dist-".concat(i))}))})]}),(0,u.jsxs)("div",{className:"reviews-list",children:[(0,u.jsx)("h3",{children:"Customer Reviews"}),i.map((function(e,s){var i,n;return(0,u.jsxs)("div",{className:"review-item",children:[(0,u.jsxs)("div",{className:"review-header",children:[(0,u.jsx)("div",{className:"reviewer-name",children:(null===(i=e.user)||void 0===i?void 0:i.name)||"Anonymous"}),(0,u.jsx)("div",{className:"review-date",children:(n=e.createdAt,new Date(n).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))})]}),(0,u.jsx)("div",{className:"review-rating",children:t(e.rating)}),e.title&&(0,u.jsx)("div",{className:"review-title",children:e.title}),(0,u.jsx)("div",{className:"review-content",children:e.comment})]},e._id||s)}))]})]}):(0,u.jsx)("div",{className:"no-reviews",children:(0,u.jsx)("p",{children:"This product has no reviews yet."})})})};const p=function(){var e,s,i,a,p,g,v=(0,l.g)().id,x=(0,c.useState)(null),j=(0,t.A)(x,2),f=j[0],N=j[1],w=(0,c.useState)([]),y=(0,t.A)(w,2),b=y[0],S=y[1],k=(0,c.useState)([]),A=(0,t.A)(k,2),C=A[0],P=A[1],D=(0,c.useState)(!0),_=(0,t.A)(D,2),q=_[0],R=_[1],I=(0,c.useState)(null),T=(0,t.A)(I,2),F=T[0],M=T[1],E=(0,c.useState)(1),z=(0,t.A)(E,2),B=z[0],O=z[1],G=(0,c.useState)("description"),V=(0,t.A)(G,2),H=V[0],W=V[1],Y=(0,c.useState)(0),J=(0,t.A)(Y,2),L=J[0],U=J[1],$=(0,c.useState)(!1),K=(0,t.A)($,2),X=K[0],Q=K[1];(0,c.useEffect)((function(){N(null),S([]),P([]),R(!0),M(null),U(0),Q(!1);var e=function(){var e=(0,n.A)(r().mark((function e(){var s,i,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.YV.getProductById(v);case 3:(s=e.sent).success&&s.data?(N(s.data),Promise.all([o.YV.getRelatedProducts(v),o.YV.getProductReviews(v)]).then((function(e){var s=(0,t.A)(e,2),i=s[0],n=s[1];if(i.success&&i.data){var a=i.data.map((function(e){var s,i;return{id:e._id,name:e.name,price:e.basePrice,image:e.images&&e.images.length>0?e.images[0]:"/images/products/placeholder.svg",category:(null===(s=e.category)||void 0===s?void 0:s.name)||"Unknown",gender:(null===(i=e.specifications)||void 0===i?void 0:i.gender)||"unisex"}}));S(a)}else S(ee());n.success&&n.data?P(n.data):P(se())})).catch((function(e){S(ee()),P(se())}))):(i=Z(v),N(i),S(ee()),P(se())),e.next=15;break;case 7:e.prev=7,e.t0=e.catch(0),M("Failed to load product details. Please try again later."),n=Z(v),N(n),S(ee()),P(se());case 15:return e.prev=15,R(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,7,15,18]])})));return function(){return e.apply(this,arguments)}}();e()}),[v]);var Z=function(e){return{_id:e,name:"Premium Athletic Running Shoes",basePrice:79.99,sku:"SH-ATH-001",stock:150,description:"High-quality athletic running shoes designed for comfort and performance. Features breathable mesh upper, cushioned midsole, and durable rubber outsole.",images:["/images/products/running-shoes.jpg","/images/products/running-shoes-2.jpg","/images/products/running-shoes-3.jpg"],category:{name:"Athletic"},specifications:{gender:"unisex",material:"Synthetic mesh, rubber",weight:"280g",colors:["Black/Red","Blue/White","Gray/Green"]},volumeDiscounts:[{quantity:50,price:74.99},{quantity:100,price:69.99}]}},ee=function(){return[{id:"related1",name:"Sports Training Shoes",price:69.99,image:"/images/products/training-shoes.jpg",category:"Athletic",gender:"unisex"},{id:"related2",name:"Lightweight Running Shoes",price:74.99,image:"/images/products/lightweight-shoes.jpg",category:"Athletic",gender:"unisex"},{id:"related3",name:"Trail Running Shoes",price:89.99,image:"/images/products/trail-shoes.jpg",category:"Athletic",gender:"unisex"},{id:"related4",name:"Cushioned Walking Shoes",price:64.99,image:"/images/products/walking-shoes.jpg",category:"Athletic",gender:"unisex"}]},se=function(){return[{_id:"review1",user:{name:"John D."},rating:5,title:"Excellent quality and comfort",comment:"These shoes are perfect for my retail store. My customers love the comfort and style. The quality is excellent and they hold up well over time.",createdAt:new Date(Date.now()-6048e5).toISOString()},{_id:"review2",user:{name:"Sarah M."},rating:4,title:"Good value for wholesale",comment:"Great wholesale price point and my customers are happy with the product. Would like to see more color options in the future.",createdAt:new Date(Date.now()-12096e5).toISOString()},{_id:"review3",user:{name:"Michael T."},rating:4.5,title:"Fast shipping, good product",comment:"Received my bulk order quickly and the shoes are selling well in my store. The quality is good for the price point.",createdAt:new Date(Date.now()-2592e6).toISOString()}]};return q?(0,u.jsx)("div",{className:"container",children:(0,u.jsxs)("div",{className:"product-detail skeleton-container",children:[(0,u.jsx)("div",{className:"product-gallery skeleton"}),(0,u.jsx)("div",{className:"product-info skeleton"})]})}):F||!f?(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)("div",{className:"alert alert-danger",children:F||"Product not found"}),(0,u.jsx)(l.N_,{to:"/products",className:"btn btn-primary",children:"Back to Products"})]}):(0,u.jsxs)("div",{className:"container",children:[(0,u.jsxs)("div",{className:"breadcrumbs",children:[(0,u.jsx)(l.N_,{to:"/",children:"Home"})," >",(0,u.jsx)(l.N_,{to:"/products",children:"Products"})," >",(0,u.jsx)("span",{children:f.name})]}),(0,u.jsxs)("div",{className:"product-detail",children:[(0,u.jsxs)("div",{className:"product-gallery",children:[(0,u.jsx)(h,{src:(null===(e=f.images)||void 0===e?void 0:e[L])||"/images/products/placeholder.svg",alt:f.name}),f.images&&f.images.length>1&&(0,u.jsx)("div",{className:"thumbnail-images",children:f.images.map((function(e,s){return(0,u.jsx)("div",{className:"thumbnail ".concat(s===L?"active":""),onClick:function(){return U(s)},children:(0,u.jsx)("img",{src:e,alt:"".concat(f.name," - View ").concat(s+1)})},s)}))})]}),(0,u.jsxs)("div",{className:"product-info",children:[(0,u.jsx)("h1",{id:"productName",children:f.name}),(0,u.jsxs)("div",{className:"product-meta",children:[(0,u.jsxs)("p",{children:["SKU: ",(0,u.jsx)("span",{id:"productSku",children:f.sku})]}),(0,u.jsxs)("p",{children:["Category: ",(0,u.jsx)("span",{id:"productCategory",children:null===(s=f.category)||void 0===s?void 0:s.name})]}),(0,u.jsxs)("p",{children:["Stock: ",(0,u.jsxs)("span",{id:"stockLevel",children:[f.stock," units"]})]})]}),(0,u.jsxs)("div",{className:"product-price",children:[(0,u.jsxs)("h2",{id:"productPrice",children:["$",f.basePrice.toFixed(2)]}),f.volumeDiscounts&&f.volumeDiscounts.length>0&&(0,u.jsxs)("div",{className:"volume-discounts",children:[(0,u.jsx)("p",{children:"Volume Discounts:"}),(0,u.jsx)("ul",{children:f.volumeDiscounts.map((function(e,s){return(0,u.jsxs)("li",{children:[e.quantity,"+ units: $",e.price.toFixed(2)," each"]},s)}))})]})]}),(0,u.jsxs)("div",{className:"product-actions",children:[(0,u.jsxs)("div",{className:"quantity-control",children:[(0,u.jsx)("button",{className:"quantity-btn",onClick:function(){B>1&&O((function(e){return e-1}))},children:"-"}),(0,u.jsx)("input",{type:"number",min:"1",value:B,onChange:function(e){var s=parseInt(e.target.value);s>0&&O(s)}}),(0,u.jsx)("button",{className:"quantity-btn",onClick:function(){O((function(e){return e+1}))},children:"+"})]}),(0,u.jsx)("button",{className:"btn btn-primary ".concat(X?"success":""),id:"addToCartBtn",onClick:function(){if(f){var e=JSON.parse(localStorage.getItem("cart"))||[],s=e.findIndex((function(e){return e.id===f._id}));s>=0?e[s].quantity+=B:e.push({id:f._id,name:f.name,price:f.basePrice,image:f.images&&f.images.length>0?f.images[0]:"/images/products/placeholder.svg",quantity:B}),localStorage.setItem("cart",JSON.stringify(e)),window.dispatchEvent(new Event("storage")),Q(!0),setTimeout((function(){Q(!1)}),3e3)}},children:X?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("i",{className:"fas fa-check"})," Added to Cart"]}):"Add to Cart"})]}),(0,u.jsxs)("div",{className:"product-tabs",children:[(0,u.jsxs)("div",{className:"tab-buttons",children:[(0,u.jsx)("button",{className:"description"===H?"active":"",onClick:function(){return W("description")},children:"Description"}),(0,u.jsx)("button",{className:"specifications"===H?"active":"",onClick:function(){return W("specifications")},children:"Specifications"}),(0,u.jsx)("button",{className:"shipping"===H?"active":"",onClick:function(){return W("shipping")},children:"Shipping"}),(0,u.jsxs)("button",{className:"reviews"===H?"active":"",onClick:function(){return W("reviews")},children:["Reviews (",C.length,")"]})]}),(0,u.jsxs)("div",{className:"tab-content",children:["description"===H&&(0,u.jsx)("div",{className:"tab-pane",children:(0,u.jsx)("p",{children:f.description})}),"specifications"===H&&(0,u.jsx)("div",{className:"tab-pane",children:(0,u.jsxs)("ul",{className:"specifications-list",children:[(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Gender:"})," ",(null===(i=f.specifications)||void 0===i?void 0:i.gender)||"Unisex"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Material:"})," ",(null===(a=f.specifications)||void 0===a?void 0:a.material)||"N/A"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Weight:"})," ",(null===(p=f.specifications)||void 0===p?void 0:p.weight)||"N/A"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("strong",{children:"Available Colors:"})," ",(null===(g=f.specifications)||void 0===g||null===(g=g.colors)||void 0===g?void 0:g.join(", "))||"N/A"]})]})}),"shipping"===H&&(0,u.jsxs)("div",{className:"tab-pane",children:[(0,u.jsx)("h4",{children:"Shipping Information"}),(0,u.jsx)("p",{children:"Orders are typically processed within 1-2 business days."}),(0,u.jsx)("p",{children:"Shipping times:"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:"Standard Shipping: 5-7 business days"}),(0,u.jsx)("li",{children:"Express Shipping: 2-3 business days"})]}),(0,u.jsx)("p",{children:"For bulk orders (50+ units), please contact our wholesale department for special shipping arrangements."})]}),"reviews"===H&&(0,u.jsx)("div",{className:"tab-pane",children:(0,u.jsx)(m,{reviews:C})})]})]})]})]}),b.length>0&&(0,u.jsxs)("div",{className:"related-products",children:[(0,u.jsx)("h2",{children:"Related Products"}),(0,u.jsx)("div",{className:"product-grid",children:b.map((function(e){return(0,u.jsx)(d.A,{product:e},e.id)}))})]})]})}}}]);